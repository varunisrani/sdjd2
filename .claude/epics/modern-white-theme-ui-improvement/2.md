---
name: TrackList Component Optimization
status: completed
created: 2025-11-17T16:47:44Z
updated: 2025-11-17T17:19:10Z
github: https://github.com/varunisrani/sdjd2/issues/2
depends_on: [5]
parallel: true
conflicts_with: [6]
---

# Task 2: TrackList Component Optimization

## Description

Improve TrackList with better spacing, typography, and virtualization for performance. This task focuses on refactoring the TrackList component to provide a mobile-first responsive experience with optimized row heights, improved metadata hierarchy, and performance enhancements for large datasets.

## Acceptance Criteria

- Mobile: Row height 64-72px with optimized typography
- Virtualization implemented for lists >50 tracks (react-window)
- Clear metadata hierarchy (title prominent, artist/album secondary)
- Hover states with subtle feedback
- Touch-friendly row interactions

## Technical Details

### Component Updates

- **Update `components/TrackList.tsx`**
  - Refactor JSX to support responsive row heights
  - Add mobile-first Tailwind classes for spacing and layout
  - Implement semantic metadata hierarchy (title > artist > album)
  - Apply typography tokens from updated globals.css

### Virtualization Implementation

- **Implement row virtualization with `react-window`**
  - Only render visible rows in viewport (typically 10-15 on mobile, 20-30 on desktop)
  - Estimated performance gain: 50%+ faster scroll with 100+ tracks
  - Install: `npm install react-window` (optional dependency)
  - Use `FixedSizeList` component for consistent row heights

### Spacing & Typography

- **Mobile Layout**
  - Row height: 64px (currently insufficient)
  - Padding: 8px horizontal (var(--spacing-1)), 12px vertical (between var(--spacing-1) and var(--spacing-2))
  - Title: 14px (--text-sm), font-weight 500
  - Artist/Album: 12px (--text-xs), font-weight 400, secondary color

- **Desktop Layout**
  - Row height: 64px (consistent with mobile)
  - Padding: 16px (var(--spacing-2))
  - Title: 16px (--text-base), font-weight 500
  - Artist/Album: 14px (--text-sm), font-weight 400

### Hover & Interaction States

- **Hover State (Desktop)**
  - Subtle background color change (0.03 opacity increase)
  - Smooth transition: 150ms ease-out
  - Optional: Slight scale transform (1.01x) on row

- **Touch State (Mobile)**
  - Active state with 0.05 opacity background
  - Fast feedback (100ms transition)
  - Cursor pointer on all rows

### Performance Targets

- Scroll FPS: 60fps with 100+ tracks
- Initial render time: <500ms
- Memory usage: Virtualization reduces to ~15 DOM nodes visible

## Implementation Checklist

- [ ] Install `react-window` dependency
- [ ] Update `components/TrackList.tsx` with responsive JSX
- [ ] Apply mobile-first Tailwind classes for spacing
- [ ] Implement `FixedSizeList` wrapper for virtualization
- [ ] Add CSS for hover/active states in globals.css
- [ ] Test row heights on mobile (64-72px target)
- [ ] Test typography hierarchy readability
- [ ] Test virtualization with 100+ track dataset
- [ ] Verify 60fps scroll performance
- [ ] Test touch interactions on iOS/Android
- [ ] Update component prop types if needed

## Effort

**Size:** M (Medium)
**Estimated Duration:** 2-3 days

## Definition of Done

- [ ] TrackList performs well with 100+ tracks (measured via DevTools Performance)
- [ ] Typography hierarchy clear and readable at multiple breakpoints
- [ ] Virtualization tested with large datasets; scroll remains smooth
- [ ] Mobile and desktop layouts verified on physical devices
- [ ] No regression in existing TrackList functionality
- [ ] Code reviewed and merged to main branch
