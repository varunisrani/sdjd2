---
name: Migrate SearchBar to CSS Modules
status: open
created: 2025-11-17T19:55:19Z
updated: 2025-11-17T20:00:59Z
github: https://github.com/varunisrani/sdjd2/issues/14
depends_on: [12]
parallel: true
conflicts_with: []
---

# Task: Migrate SearchBar to CSS Modules

## Description
Migrate the SearchBar component to use CSS Modules instead of Tailwind classes. Enhance with smooth dropdown animations, improved focus states, and a pure CSS loading spinner.

## Acceptance Criteria
- [ ] Create `components/SearchBar.module.css` with all SearchBar styles
- [ ] Replace all Tailwind classes in SearchBar.tsx with CSS Module classes
- [ ] Dropdown has smooth fade-in + slide-down animation (150ms)
- [ ] Loading spinner implemented with pure CSS animation (rotating border)
- [ ] Focus state has 3px outline with primary color
- [ ] Touch targets are 44x44px for clear button and result items
- [ ] Keyboard navigation has visible selected item highlight
- [ ] Responsive: works perfectly on mobile and desktop
- [ ] No visual regression from current design

## Technical Details
**Files to create:**
- `components/SearchBar.module.css`

**Files to modify:**
- `components/SearchBar.tsx` (replace all Tailwind classes)

**Implementation approach:**
1. Create SearchBar.module.css with class names:
   - `.searchContainer` - outer wrapper
   - `.searchInput` - input field
   - `.searchInputFocused` - focus state
   - `.clearButton` - X button
   - `.dropdown` - results dropdown
   - `.loading` - loading container
   - `.spinner` - CSS spinner animation
   - `.resultItem` - individual result
   - `.resultItemSelected` - keyboard selected state
   - `.resultIcon` - icon wrapper

2. Replace Tailwind classes:
   - `className="relative w-full md:w-80"` → `className={styles.searchContainer}`
   - `className="search-input w-full h-11"` → `className={styles.searchInput}`
   - etc.

3. Implement animations:
   ```css
   @keyframes fadeSlideIn {
     from { opacity: 0; transform: translateY(-8px); }
     to { opacity: 1; transform: translateY(0); }
   }

   @keyframes spin {
     to { transform: rotate(360deg); }
   }
   ```

4. Add responsive styles for mobile (<640px) and desktop

**Code locations affected:**
- `components/SearchBar.tsx` (entire file, especially lines 195-324)

## Dependencies
- [ ] Task 12 must be completed (design tokens ready)

## Effort Estimate
- Size: M
- Hours: 1.5 hours
- Parallel: true (can run alongside tasks 13, 15-17)

## Definition of Done
- [ ] SearchBar.module.css created with complete styles
- [ ] All Tailwind classes replaced
- [ ] Dropdown animation smooth and polished
- [ ] Loading spinner works with pure CSS
- [ ] Focus states meet accessibility standards
- [ ] Touch targets verified 44x44px
- [ ] Responsive behavior tested
- [ ] No visual regression
- [ ] Build succeeds, dev server runs without errors
